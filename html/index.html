<!doctype html>
<html>
<head>
    <title>spiderweb-node</title>
    <link rel="stylesheet" href="/node_modules/xterm/dist/xterm.css"/>
    <link rel="stylesheet" href="/node_modules/xterm/dist/addons/fullscreen/fullscreen.css"/>
    <link rel="stylesheet" href="/public/stylesheets/style.css"/>
    <link rel="shortcut icon" href="/public/imgs/web.png"
          type="image/x-icon"/>
    <script src="/public/javascripts/es6-promise.auto.min.js"></script>
    <script src="/public/javascripts/fetch.min.js"></script>
    <script src="/node_modules/xterm/dist/xterm.js"></script>

    <script src="/node_modules/xterm/dist/addons/attach/attach.js"></script>
    <script src="/node_modules/zmodem.js/dist/zmodem.js"></script>
    <script src="/public/javascripts/zmodem.js"></script>

    <script src="/node_modules/xterm/dist/addons/fit/fit.js"></script>
    <script src="/node_modules/xterm/dist/addons/fullscreen/fullscreen.js"></script>
    <script src="/node_modules/xterm/dist/addons/search/search.js"></script>
</head>
<body>
<h1>enter into a spiderweb node from browser !</h1>

<div id="terminal-container"></div>

<div id="zmodem_controls">
    <form id="zm_start" style="display: none" action="javascript:void(0)">
        ZMODEM detected: Start ZMODEM session?
        <label><input id="zmstart_yes" name="zmstart" type=radio checked value="1"> Yes</label>
        &nbsp;
        <label><input name="zmstart" type=radio value=""> No</label>
        <button type="submit">Submit</button>
    </form>

    <form id="zm_offer" style="display: none" action="javascript:void(0)">
        <p>ZMODEM File offered!</p>

        <label><input id="zmaccept_yes" name="zmaccept" type=radio checked value="1"> Accept</label>
        &nbsp;
        <label><input name="zmaccept" type=radio value=""> Skip</label>
        <button type="submit">Submit</button>
    </form>

    <div id="zm_file" style="display: none">
        <div>Name: <span id="name"></span></div>
        <div>Size: <span id="size"></span></div>
        <div>Last modified: <span id="mtime"></span></div>
        <div>Mode: <span id="mode"></span></div>
        <br>

        <div>Conversion: <span id="zfile_conversion"></span></div>
        <div>Management: <span id="zfile_management"></span></div>
        <div>Transport: <span id="zfile_transport"></span></div>
        <div>Sparse? <span id="zfile_sparse"></span></div>
        <br>

        <div>Files remaining in batch: <span id="files_remaining"></span></div>
        <div>Bytes remaining in batch: <span id="bytes_remaining"></span></div>
    </div>

    <form id="zm_progress" style="display: none" action="javascript:void(0)">
        <div><span id="percent_received"></span>% (<span id="bytes_received"></span> bytes) received</div>
        <button id="zm_progress_skipper" type="button" onclick="skip_current_file();">Skip File</button>
    </form>

    <form id="zm_choose" style="display: none" action="javascript:void(0)">
        <label>Choose file(s): <input id="zm_files" type="file" multiple></label>
    </form>
</div>
<script src="/public/javascripts/main.js" defer></script>
</body>
</html>
